{"version":3,"file":"hreimer-angular-image-viewer.umd.js","sources":["../../../projects/angular-image-viewer/src/lib/models/custom-image-event-model.ts","../../../projects/angular-image-viewer/src/lib/angular-image-viewer.component.ts","../../../projects/angular-image-viewer/src/lib/directives/full-screen.directive.ts","../../../projects/angular-image-viewer/src/lib/angular-image-viewer.module.ts","../../../projects/angular-image-viewer/src/public-api.ts","../../../projects/angular-image-viewer/src/hreimer-angular-image-viewer.ts"],"sourcesContent":["export class CustomImageEvent {\n    name: string;\n    imageIndex: number;\n\n    constructor(name, imageIndex) {\n        this.name = name;\n        this.imageIndex = imageIndex;\n    }\n}\n","import { Component, OnInit, HostListener, Optional, Inject, Input, Output, EventEmitter, OnChanges, SimpleChanges } from '@angular/core';\nimport { ImageViewerConfig } from './models/image-viewer-config.model';\nimport { CustomImageEvent } from './models/custom-image-event-model';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n\nconst DEFAULT_CONFIG: ImageViewerConfig = {\n  btnContainerClass: 'btn-container',\n  btnClass: 'default',\n  btnSubClass: 'material-icons',\n  zoomFactor: 0.1,\n  containerBackgroundColor: '#ccc',\n  wheelZoom: false,\n  allowFullscreen: true,\n  allowKeyboardNavigation: true,\n  btnShow: {\n    zoomIn: true,\n    zoomOut: true,\n    rotateClockwise: true,\n    rotateCounterClockwise: true,\n    next: true,\n    prev: true,\n    reset: true\n  },\n  btnIcons: {\n    zoomIn: {\n      classes: 'fa fa-plus',\n      text: 'zoom_in'\n    },\n    zoomOut: {\n      classes: 'fa fa-minus',\n      text: 'zoom_out'\n    },\n    rotateClockwise:  {\n      classes: 'fa fa-repeat',\n      text: 'rotate_right'\n    },\n    rotateCounterClockwise:  {\n      classes: 'fa fa-undo',\n      text: 'rotate_left'\n    },\n    next:  {\n      classes: 'fa fa-arrow-right',\n      text: 'arrow_right'\n    },\n    prev:  {\n      classes: 'fa fa-arrow-left',\n      text: 'arrow_left'\n    },\n    fullscreen:  {\n      classes: 'fa fa-arrows-alt',\n      text: 'fullscreen'\n    },\n    reset:  {\n      classes: 'fa fa-undo',\n      text: 'restore'\n    },\n  }\n};\n\n\n@Component({\n  selector: 'angular-image-viewer',\n  templateUrl: './angular-image-viewer.component.html',\n  styleUrls: ['./angular-image-viewer.component.scss']\n})\nexport class AngularImageViewerComponent implements OnInit, OnChanges {\n\n  @Input()\n  src: string[];\n\n  @Input()\n  screenHeightOccupied: 0;             // In Px\n\n  @Input()\n  index = 0;\n\n  @Input()\n  config: ImageViewerConfig;\n\n  @Output()\n  indexChange: EventEmitter<number> = new EventEmitter();\n\n  @Output()\n  configChange: EventEmitter<ImageViewerConfig> = new EventEmitter();\n\n  @Output()\n  customImageEvent: EventEmitter<CustomImageEvent> = new EventEmitter();\n\n  styleHeight = '100%';\n\n  public style = { transform: '', msTransform: '', oTransform: '', webkitTransform: '' };\n  public fullscreen = false;\n  public loading = true;\n  private scale = 1;\n  private rotation = 0;\n  private translateX = 0;\n  private translateY = 0;\n  private prevX: number;\n  private prevY: number;\n  private hovered = false;\n\n  constructor(@Optional() @Inject('config') public moduleConfig: ImageViewerConfig,\n              private sanitizer: DomSanitizer) { }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.screenHeightOccupied) {\n      this.styleHeight = 'calc(100% - ' + this.screenHeightOccupied + 'px)';\n      // console.log('Style Height:', this.styleHeight);\n    }\n  }\n\n  ngOnInit() {\n    const merged = this.mergeConfig(DEFAULT_CONFIG, this.moduleConfig);\n    this.config = this.mergeConfig(merged, this.config);\n    this.triggerConfigBinding();\n  }\n\n  @HostListener('window:keyup.ArrowRight', ['$event'])\n  nextImage(event) {\n    if (this.canNavigate(event) && this.index < this.src.length - 1) {\n      this.loading = true;\n      this.index++;\n      this.triggerIndexBinding();\n      this.reset();\n    }\n  }\n\n  @HostListener('window:keyup.ArrowLeft', ['$event'])\n  prevImage(event) {\n    if (this.canNavigate(event) && this.index > 0) {\n      this.loading = true;\n      this.index--;\n      this.triggerIndexBinding();\n      this.reset();\n    }\n  }\n\n  zoomIn() {\n    this.scale *= (1 + this.config.zoomFactor);\n    this.updateStyle();\n  }\n\n  zoomOut() {\n    if (this.scale > this.config.zoomFactor) {\n      this.scale /= (1 + this.config.zoomFactor);\n    }\n    this.updateStyle();\n  }\n\n  scrollZoom(evt) {\n    if (this.config.wheelZoom) {\n      evt.deltaY > 0 ? this.zoomOut() : this.zoomIn();\n      return false;\n    }\n  }\n\n  rotateClockwise() {\n    this.rotation += 90;\n    this.updateStyle();\n  }\n\n  rotateCounterClockwise() {\n    this.rotation -= 90;\n    this.updateStyle();\n  }\n\n  onLoad(url) {\n    // console.log('Loading Image Done:', url);\n    this.loading = false;\n  }\n\n  onLoadStart(url) {\n    // console.log('Loading Image:', url);\n    this.loading = true;\n  }\n\n  imageNotFound(url) {\n    // console.log('Image not found Url:', url);\n  }\n\n  onDragOver(evt) {\n    this.translateX += (evt.clientX - this.prevX);\n    this.translateY += (evt.clientY - this.prevY);\n    this.prevX = evt.clientX;\n    this.prevY = evt.clientY;\n    this.updateStyle();\n  }\n\n  onDragStart(evt) {\n    if (evt.dataTransfer && evt.dataTransfer.setDragImage) {\n      evt.dataTransfer.setDragImage(evt.target.nextElementSibling, 0, 0);\n    }\n    this.prevX = evt.clientX;\n    this.prevY = evt.clientY;\n  }\n\n  toggleFullscreen() {\n    this.fullscreen = !this.fullscreen;\n    if (!this.fullscreen) {\n      this.reset();\n    }\n  }\n\n  triggerIndexBinding() {\n    this.indexChange.emit(this.index);\n  }\n\n  triggerConfigBinding() {\n    this.configChange.next(this.config);\n  }\n\n  fireCustomEvent(name, imageIndex) {\n    this.customImageEvent.emit(new CustomImageEvent(name, imageIndex));\n  }\n\n  reset() {\n    this.scale = 1;\n    this.rotation = 0;\n    this.translateX = 0;\n    this.translateY = 0;\n    this.updateStyle();\n  }\n\n  @HostListener('mouseover')\n  onMouseOver() {\n    this.hovered = true;\n  }\n\n  @HostListener('mouseleave')\n  onMouseLeave() {\n    this.hovered = false;\n  }\n\n  private canNavigate(event: any) {\n    return event == null || (this.config.allowKeyboardNavigation && this.hovered);\n  }\n\n  private updateStyle() {\n    this.style.transform = `translate(${this.translateX}px, ${this.translateY}px) rotate(${this.rotation}deg) scale(${this.scale})`;\n    this.style.msTransform = this.style.transform;\n    this.style.webkitTransform = this.style.transform;\n    this.style.oTransform = this.style.transform;\n  }\n\n  private mergeConfig(defaultValues: ImageViewerConfig, overrideValues: ImageViewerConfig): ImageViewerConfig {\n    let result: ImageViewerConfig = { ...defaultValues };\n    if (overrideValues) {\n      result = { ...defaultValues, ...overrideValues };\n\n      if (overrideValues.btnIcons) {\n        result.btnIcons = { ...defaultValues.btnIcons, ...overrideValues.btnIcons };\n      }\n    }\n    return result;\n  }\n\n}\n","import { Directive, Input, ElementRef, OnChanges, OnInit, SimpleChanges } from '@angular/core';\n// import * as screenfull from 'screenfull';\n\n@Directive({\n  selector: '[appScreenfull]'\n})\nexport class FullScreenDirective implements OnChanges, OnInit {\n\n  @Input('appScreenfull') fullscreenState: boolean;\n\n  constructor(private el: ElementRef) { }\n\n  ngOnChanges(changes: SimpleChanges) {\n    // console.log('fullscreenState isFirstChange:', changes[\"fullscreenState\"].isFirstChange());\n    // console.log('fullscreenState', this.fullscreenState);\n    // if (screenfull.isEnabled) {\n    //   screenfull.toggle(this.el.nativeElement);\n    // }\n    // if (this.fullscreenState && screenfull.isEnabled) {\n    //   screenfull.request(this.el.nativeElement);\n    // } else if (screenfull.isEnabled) {\n    //   screenfull.exit();\n    // }\n\n    // tslint:disable-next-line: no-string-literal\n    if (!changes['fullscreenState'].isFirstChange()) {\n\n      if (this.fullscreenState) {\n        const element: any = this.el.nativeElement;\n\n        // tslint:disable-next-line: max-line-length\n        const requestMethod = element.requestFullscreen || element.webkitRequestFullScreen || element.mozRequestFullScreen || element.msRequestFullScreen;\n\n        if (requestMethod) { // Native full screen.\n          requestMethod.call(element);\n        } else {\n          console.log('FullScreen Request Method Not Supported on this browser.');\n        }\n      } else {\n        const element: any = document;\n\n        // tslint:disable-next-line: max-line-length\n        const requestMethod = element.cancelFullscreen || element.webkitExitFullscreen || element.webkitCancelFullScreen || element.mozCancelFullScreen || element.msExitFullScreen;\n\n        if (requestMethod) { // Native Cancel full screen.\n          requestMethod.call(element);\n        } else {\n          console.log('FullScreen Cancel Request Method Not Supported on this browser.');\n        }\n      }\n    }\n\n  }\n\n  ngOnInit() {\n\n  }\n\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { AngularImageViewerComponent } from './angular-image-viewer.component';\nimport { FullScreenDirective } from './directives/full-screen.directive';\n// import { ImageViewerConfig } from 'dist/angular-image-viewer/public-api';\n\n\n\n@NgModule({\n  declarations: [AngularImageViewerComponent, FullScreenDirective],\n  imports: [\n    CommonModule,\n    BrowserModule,\n    FormsModule,\n    BrowserAnimationsModule,\n  ],\n  exports: [AngularImageViewerComponent, FullScreenDirective]\n})\nexport class AngularImageViewerModule {\n  /**\n   * forRoot\n   * @returns A module with its provider dependencies\n   */\n  // static forRoot(imageViewerConfig: ImageViewerConfig): ModuleWithProviders {\n  //   return {\n  //     ngModule: AngularImageViewerModule,\n  //     providers: [\n  //       {\n  //         provide: imageViewerConfig,\n  //         useValue: imageViewerConfig\n  //       }\n  //     ]\n  //   };\n  // }\n}\n","/*\n * Public API Surface of angular-image-viewer\n */\n\nexport * from './lib/angular-image-viewer.module';\nexport { AngularImageViewerComponent } from './lib/angular-image-viewer.component';\nexport { ImageViewerConfig} from './lib/models/image-viewer-config.model';\nexport { CustomImageEvent } from './lib/models/custom-image-event-model';\nexport { FullScreenDirective } from './lib/directives/full-screen.directive';\n\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["EventEmitter","Component","Optional","Inject","DomSanitizer","Input","Output","HostListener","Directive","ElementRef","NgModule","CommonModule","BrowserModule","FormsModule","BrowserAnimationsModule"],"mappings":"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"}